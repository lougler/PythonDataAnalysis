## numpy数组的拼接、合并

- Python中numpy数组的合并有很多方法:
    - np.append() 
    - np.concatenate() 
    - np.stack() 
    - np.hstack() 
    - np.vstack() 
    - np.dstack() 
    - column_stack()
    - row_stack()

  其中最泛用的是第一个和第二个。第一个可读性好，比较灵活，但是占内存大。第二个则没有内存占用大的问题。


```python
import numpy as np
```

生成两数组


```python
a = np.zeros((3,4,6))
b = np.ones((3,4,6))
print(a)
print(a.shape)
print("*" * 100)
print(b)
print(b.shape)
```

    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]]
    (3, 4, 6)
    ****************************************************************************************************
    [[[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (3, 4, 6)

### 0\. 元素添加合并


```python
c = np.append(a,b)
c.shape
```




    (144,)



### 1\. 水平合并


```python
c = np.hstack((a,b))
d = np.concatenate((a,b), axis=1)
print(c)
print(c.shape)
print("*" * 100)
print(d)
print(d.shape)
```

    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (3, 8, 6)
    ****************************************************************************************************
    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (3, 8, 6)

### 1\. 垂直组合


```python
c = np.vstack((a,b))
d = np.concatenate((a,b), axis=0)
print(c)
print(c.shape)
print("*" * 100)
print(d)
print(d.shape)
```

    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (6, 4, 6)
    ****************************************************************************************************
    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (6, 4, 6)


### 3\. 深度组合：沿着纵轴方向组合


```python
c = np.dstack((a,b))
d = np.concatenate((a,b), axis=2)
print(c)
print(c.shape)
print("*" * 100)
print(d)
print(d.shape)
```

    [[[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]]
    (3, 4, 12)
    ****************************************************************************************************
    [[[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]
      [0. 0. 0. 0. 0. 0. 1. 1. 1. 1. 1. 1.]]]
    (3, 4, 12)


### 4\. 列组合column_stack()
一维数组：按列方向组合

二维及多维数组：同hstack一样


```python
x = np.array([1,1,1,1,1])
y = np.array([0,0,0,0,0])
d = np.column_stack((x,y))
print(x)
print(x.shape)
print(d)
print(d.shape)
```

    [1 1 1 1 1]
    (5,)
    [[1 0]
     [1 0]
     [1 0]
     [1 0]
     [1 0]]
    (5, 2)



```python
c = np.column_stack((a,b))
print(c)
print(c.shape)
```

    [[[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]
    
     [[0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [0. 0. 0. 0. 0. 0.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]
      [1. 1. 1. 1. 1. 1.]]]
    (3, 8, 6)


### 5\. 行组合row_stack()

一维数组：按行方向组合 

二维及多维数组：和vstack一样


```python
x = np.zeros(4)
y = np.ones(4)
c = np.row_stack((x,y))
print(y)
print(y.shape)
print(c)
print(c.shape)
```

    [1. 1. 1. 1.]
    (4,)
    [[0. 0. 0. 0.]
     [1. 1. 1. 1.]]
    (2, 4)


### 6\. “==”用来比较两个数组


```python
a = np.array([[1,2,3],
             [4,5,6],
             [7,8,9]])
b = np.array([[2,2,2],
             [5,5,5],
             [9,9,9]])
o = a==b
print(o)
```

    [[False  True False]
     [False  True False]
     [False False  True]]

